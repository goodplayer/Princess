<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>{{.SITE.default_site_name}}</title>

    <!-- Bootstrap -->
    <link href="/statics/css/bootstrap.min.css" rel="stylesheet">
    <link href="/statics/css/bootstrap-theme.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="/statics/editor/js/epiceditor.min.js"></script>

    <style>
        body {
            padding-top: 0px;
        }
    </style>
</head>
<body>

{{template "user_bar" .}}

<div class="container col-md-offset-1 col-md-10" style="padding-top: 40px;">
    <!--<div class="">-->
        <!--<h1>{{.SITE.default_site_name}}-->
            <!--<small>subtitle...</small>-->
        <!--</h1>-->
    <!--</div>-->

    <div style="padding-bottom: 40px;">
        <h1>发表新文章</h1>
        <hr>
        <form class="form-signin" id="form-post" method="post" action="/posts" autocomplete="off">
            <div>
                <div class="pull-right" style="padding-bottom: 20px;">
                    <button type="submit" class="btn btn-primary">发布</button>
                </div>
                <input type="text" class="form-control" id="inputTitle1" name="title" placeholder="标题">
                <br/>
                <div id="content-editor"></div>
                <textarea id="content-edit-area" name="content" placeholder="support: Markdown" hidden="hidden"></textarea>
                <div class="pull-right" style="padding-top: 20px;">
                    <button type="submit" class="btn btn-primary">发布</button>
                </div>
            </div>
        </form>
    </div>
</div>

{{template "user_bar_include" .}}

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.11.3.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/statics/js/bootstrap.min.js"></script>
<script>
    var opts = {
        container: 'content-editor',
        textarea: 'content-edit-area',
        basePath: '/statics/editor',
        clientSideStorage: true,
        localStorageName: 'content-editor',
        useNativeFullscreen: true,
        parser: marked,
        file: {
            name: 'content-editor',
            defaultContent: '',
            autoSave: 100
        },
        theme: {
            base: '/themes/base/epiceditor.css',
            preview: '/themes/preview/preview-dark.css',
            editor: '/themes/editor/epic-dark.css'
        },
        button: {
            preview: true,
            fullscreen: true,
            bar: "auto"
        },
        focusOnLoad: false,
        shortcut: {
            modifier: 18,
            fullscreen: 70,
            preview: 80
        },
        string: {
            togglePreview: 'Toggle Preview Mode',
            toggleEdit: 'Toggle Edit Mode',
            toggleFullscreen: 'Enter Fullscreen'
        },
        autogrow: true
    };
    var editor = new EpicEditor(opts).load();
</script>

</body>
</html>
